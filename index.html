<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –î–æ–º –ï–¥–∞ - —Å–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã, –æ–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã, –º–æ–ª–æ—á–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –Ω–∞ –¥–æ–º">
    <meta name="keywords" content="–ø—Ä–æ–¥—É–∫—Ç—ã, –¥–æ—Å—Ç–∞–≤–∫–∞, –æ–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã, –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω">
    <meta name="author" content="–î–æ–º –ï–¥–∞">
    <meta property="og:title" content="–î–æ–º –ï–¥–∞ - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –ø—Ä–æ–¥—É–∫—Ç–æ–≤">
    <meta property="og:description" content="–°–≤–µ–∂–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –Ω–∞ –¥–æ–º">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://images.unsplash.com/photo-1542838688-5d3c9001c2d7?w=1200&h=630&fit=crop">
    <title>–î–æ–º –ï–¥–∞ - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —Å–≤–µ–∂–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
    
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(45deg, #667eea, #764ba2);
            --success-color: #27ae60;
            --danger-color: #ff4757;
            --warning-color: #ff6b35;
            --whatsapp-color: #25d366;
            --text-primary: #2c3e50;
            --text-secondary: #666;
            --text-muted: #999;
            --bg-white: rgba(255, 255, 255, 0.95);
            --bg-light: #f8f9fa;
            --border-color: #ddd;
            --shadow-light: 0 8px 32px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 12px 40px rgba(0, 0, 0, 0.2);
            --shadow-heavy: 0 20px 60px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s ease;
            --border-radius: 15px;
            --border-radius-large: 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab, #ffd700, #ff6b35, #8e44ad, #3498db);
            background-size: 400% 400%;
            animation: rainbowGradient 15s ease infinite;
            min-height: 100vh;
        }

        @keyframes rainbowGradient {
            0% {
                background-position: 0% 50%;
            }
            25% {
                background-position: 50% 25%;
            }
            50% {
                background-position: 100% 50%;
            }
            75% {
                background-position: 50% 75%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: var(--bg-white);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            margin-bottom: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            color: #764ba2;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .cart-btn {
            background: var(--secondary-gradient);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            position: relative;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: var(--transition);
        }

        .cart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--danger-color);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .search-container {
            margin-bottom: 2rem;
            text-align: center;
        }

        .search-input {
            width: 100%;
            max-width: 400px;
            padding: 12px 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            background: var(--bg-white);
            font-size: 1rem;
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            background: white;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .category-card {
            background: var(--bg-white);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius-large);
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: var(--shadow-light);
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }

        .category-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .category-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .category-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            margin-bottom: 2rem;
        }

        .back-btn:hover {
            background: var(--bg-white);
            color: #764ba2;
            transform: translateY(-2px);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .product-card {
            background: var(--bg-white);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius-large);
            padding: 1.5rem;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #f1f2f6, #ddd);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            overflow: hidden;
            position: relative;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .product-emoji {
            font-size: 3rem;
        }

        .product-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .product-price {
            font-size: 1.2rem;
            color: var(--success-color);
            margin-bottom: 1rem;
            font-weight: bold;
        }

        .weight-input {
            width: 100%;
            padding: 10px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            margin-bottom: 1rem;
            font-size: 1rem;
            text-align: center;
        }

        .weight-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .weight-unit {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .add-to-cart {
            width: 100%;
            background: var(--secondary-gradient);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: var(--transition);
        }

        .add-to-cart:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
        }

        .cart-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius-large);
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-heavy);
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #eee;
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-muted);
            transition: color 0.3s ease;
        }

        .close-cart:hover {
            color: var(--danger-color);
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: bold;
            margin-bottom: 0.3rem;
        }

        .cart-item-weight {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.3rem;
        }

        .cart-item-price {
            color: var(--success-color);
            font-weight: bold;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0 1rem;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            border: none;
            background: #667eea;
            color: white;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-btn:hover {
            background: #764ba2;
        }

        .remove-item {
            background: var(--danger-color);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
        }

        .remove-item:hover {
            background: #ff3742;
            transform: scale(1.05);
        }

        .cart-total {
            text-align: center;
            margin: 2rem 0;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--text-primary);
            padding: 1rem;
            background: var(--bg-light);
            border-radius: 15px;
        }

        .whatsapp-form {
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--bg-light);
            border-radius: 15px;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group input.error {
            border-color: var(--danger-color);
        }

        .error-message {
            color: var(--danger-color);
            font-size: 0.9rem;
            margin-top: 0.3rem;
        }

        .send-order {
            width: 100%;
            background: var(--whatsapp-color);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 1rem;
        }

        .send-order:hover {
            background: #22c55e;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
        }

        .send-order:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .empty-cart {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
        }

        .hidden {
            display: none;
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            z-index: 2000;
            animation: slideIn 0.3s ease;
            box-shadow: var(--shadow-medium);
        }

        .notification.success {
            background: var(--success-color);
        }

        .notification.error {
            background: var(--danger-color);
        }

        .notification.warning {
            background: var(--warning-color);
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                padding: 0 1rem;
            }

            .logo {
                font-size: 1.5rem;
            }

            .categories {
                grid-template-columns: 1fr;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 1rem;
            }

            .cart-content {
                width: 95%;
                padding: 1rem;
            }

            .cart-item {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .quantity-controls {
                margin: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo">üè† –î–æ–º –ï–¥–∞</div>
                <button class="cart-btn" onclick="openCart()" aria-label="–û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É">
                    üõí –ö–æ—Ä–∑–∏–Ω–∞ (<span id="cartCount">0</span>)
                </button>
            </div>
        </header>

        <main>
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." oninput="searchProducts()" aria-label="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤">
            </div>

            <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
            <section id="mainCategories">
                <div class="categories" id="categoriesGrid">
                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </section>

            <!-- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
            <section id="subcategoriesSection" class="hidden">
                <button class="back-btn" onclick="showMainCategories()">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</button>
                <div class="categories" id="subcategoriesGrid">
                    <!-- –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </section>

            <!-- –¢–æ–≤–∞—Ä—ã -->
            <section id="productsSection" class="hidden">
                <button class="back-btn" onclick="showSubcategories(currentMainCategory)">‚Üê –ù–∞–∑–∞–¥</button>
                <div class="products-grid" id="productsGrid">
                    <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </section>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div id="cartModal" class="cart-modal" aria-hidden="true">
        <div class="cart-content">
            <div class="cart-header">
                <h2>üõí –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
                <button class="close-cart" onclick="closeCart()" aria-label="–ó–∞–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É">&times;</button>
            </div>
            <div id="cartItems">
                <!-- –¢–æ–≤–∞—Ä—ã –∫–æ—Ä–∑–∏–Ω—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
            <div class="cart-total" id="cartTotal">–ò—Ç–æ–≥–æ: 0 ‚Ç∏</div>
            <form class="whatsapp-form" id="orderForm" onsubmit="sendToWhatsApp(event)">
                <div class="form-group">
                    <label for="customerName">–í–∞—à–µ –∏–º—è *</label>
                    <input type="text" id="customerName" required placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
                    <div class="error-message" id="nameError"></div>
                </div>
                <div class="form-group">
                    <label for="customerPhone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                    <input type="tel" id="customerPhone" required placeholder="+7 (XXX) XXX-XX-XX">
                    <div class="error-message" id="phoneError"></div>
                </div>
                <div class="form-group">
                    <label for="customerAddress">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ *</label>
                    <input type="text" id="customerAddress" required placeholder="–£–ª–∏—Ü–∞, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä–∞">
                    <div class="error-message" id="addressError"></div>
                </div>
                <button type="submit" class="send-order">
                    üì± –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ –≤ WhatsApp
                </button>
            </form>
        </div>
    </div>

    <script>
        // –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
        const products = {
            // –û–≤–æ—â–∏
            fresh_vegetables: [
                { id: 1, name: "–ü–æ–º–∏–¥–æ—Ä—ã —Å–≤–µ–∂–∏–µ", price: 850, unit: "–∫–≥", emoji: "üçÖ", isWeight: true, image: "" },
                { id: 2, name: "–û–≥—É—Ä—Ü—ã —Å–≤–µ–∂–∏–µ", price: 650, unit: "–∫–≥", emoji: "ü•í", isWeight: true, image: "" },
                { id: 3, name: "–ú–æ—Ä–∫–æ–≤—å", price: 350, unit: "–∫–≥", emoji: "ü•ï", isWeight: true, image: "" },
                { id: 4, name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å", price: 280, unit: "–∫–≥", emoji: "ü•î", isWeight: true, image: "" },
                { id: 5, name: "–ö–∞–ø—É—Å—Ç–∞ –±–µ–ª–æ–∫–æ—á–∞–Ω–Ω–∞—è", price: 450, unit: "–∫–≥", emoji: "ü•¨", isWeight: true, image: "" },
                { id: 6, name: "–õ—É–∫ —Ä–µ–ø—á–∞—Ç—ã–π", price: 320, unit: "–∫–≥", emoji: "üßÖ", isWeight: true, image: "" },
                { id: 7, name: "–ë–æ–ª–≥–∞—Ä—Å–∫–∏–π –ø–µ—Ä–µ—Ü", price: 1200, unit: "–∫–≥", emoji: "ü´ë", isWeight: true, image: "" },
                { id: 8, name: "–ë–∞–∫–ª–∞–∂–∞–Ω—ã", price: 980, unit: "–∫–≥", emoji: "üçÜ", isWeight: true, image: "" },
                { id: 9, name: "–ö–∞–±–∞—á–∫–∏", price: 750, unit: "–∫–≥", emoji: "ü•í", isWeight: true, image: "" },
                { id: 10, name: "–ß–µ—Å–Ω–æ–∫", price: 2800, unit: "–∫–≥", emoji: "üßÑ", isWeight: true, image: "" },
                { id: 11, name: "–°–≤–µ–∫–ª–∞", price: 380, unit: "–∫–≥", emoji: "üçë", isWeight: true, image: "" },
                { id: 12, name: "–†–µ–¥–∏—Å", price: 850, unit: "–∫–≥", emoji: "üå∂Ô∏è", isWeight: true, image: "" }
            ],
            greens_herbs: [
                { id: 13, name: "–£–∫—Ä–æ–ø —Å–≤–µ–∂–∏–π", price: 450, unit: "–ø—É—á–æ–∫", emoji: "üåø", isWeight: false, image: "" },
                { id: 14, name: "–ü–µ—Ç—Ä—É—à–∫–∞", price: 450, unit: "–ø—É—á–æ–∫", emoji: "üåø", isWeight: false, image: "" },
                { id: 15, name: "–°–∞–ª–∞—Ç –ª–∏—Å—Ç–æ–≤–æ–π", price: 650, unit: "—à—Ç", emoji: "ü•¨", isWeight: false, image: "" },
                { id: 16, name: "–ö–∏–Ω–∑–∞", price: 450, unit: "–ø—É—á–æ–∫", emoji: "üåø", isWeight: false, image: "" },
                { id: 17, name: "–ó–µ–ª–µ–Ω—ã–π –ª—É–∫", price: 380, unit: "–ø—É—á–æ–∫", emoji: "üå±", isWeight: false, image: "" },
                { id: 18, name: "–®–ø–∏–Ω–∞—Ç", price: 750, unit: "–ø—É—á–æ–∫", emoji: "ü•¨", isWeight: false, image: "" }
            ],
            
            // –§—Ä—É–∫—Ç—ã
            fresh_fruits: [
                { id: 19, name: "–Ø–±–ª–æ–∫–∏", price: 680, unit: "–∫–≥", emoji: "üçé", isWeight: true, image: "" },
                { id: 20, name: "–ë–∞–Ω–∞–Ω—ã", price: 850, unit: "–∫–≥", emoji: "üçå", isWeight: true, image: "" },
                { id: 21, name: "–ê–ø–µ–ª—å—Å–∏–Ω—ã", price: 950, unit: "–∫–≥", emoji: "üçä", isWeight: true, image: "" },
                { id: 22, name: "–õ–∏–º–æ–Ω—ã", price: 1200, unit: "–∫–≥", emoji: "üçã", isWeight: true, image: "" },
                { id: 23, name: "–ì—Ä—É—à–∏", price: 1100, unit: "–∫–≥", emoji: "üçê", isWeight: true, image: "" },
                { id: 24, name: "–ú–∞–Ω–¥–∞—Ä–∏–Ω—ã", price: 1350, unit: "–∫–≥", emoji: "üçä", isWeight: true, image: "" },
                { id: 25, name: "–ö–∏–≤–∏", price: 1450, unit: "–∫–≥", emoji: "ü•ù", isWeight: true, image: "" },
                { id: 26, name: "–ê–Ω–∞–Ω–∞—Å", price: 2800, unit: "—à—Ç", emoji: "üçç", isWeight: false, image: "" },
                { id: 27, name: "–ì—Ä–∞–Ω–∞—Ç", price: 2200, unit: "—à—Ç", emoji: "üçé", isWeight: false, image: "" },
                { id: 28, name: "–ü–µ—Ä—Å–∏–∫–∏", price: 1850, unit: "–∫–≥", emoji: "üçë", isWeight: true, image: "" },
                { id: 29, name: "–ù–µ–∫—Ç–∞—Ä–∏–Ω—ã", price: 1750, unit: "–∫–≥", emoji: "üçë", isWeight: true, image: "" },
                { id: 30, name: "–°–ª–∏–≤—ã", price: 1250, unit: "–∫–≥", emoji: "üçë", isWeight: true, image: "" }
            ],
            berries: [
                { id: 31, name: "–ö–ª—É–±–Ω–∏–∫–∞ —Å–≤–µ–∂–∞—è", price: 3500, unit: "–∫–≥", emoji: "üçì", isWeight: true, image: "" },
                { id: 32, name: "–ú–∞–ª–∏–Ω–∞", price: 4200, unit: "–∫–≥", emoji: "üçì", isWeight: true, image: "" },
                { id: 33, name: "–ß–µ—Ä–Ω–∏–∫–∞", price: 5500, unit: "–∫–≥", emoji: "ü´ê", isWeight: true, image: "" },
                { id: 34, name: "–í–∏–Ω–æ–≥—Ä–∞–¥", price: 1450, unit: "–∫–≥", emoji: "üçá", isWeight: true, image: "" },
                { id: 35, name: "–°–º–æ—Ä–æ–¥–∏–Ω–∞", price: 2800, unit: "–∫–≥", emoji: "ü´ê", isWeight: true, image: "" },
                { id: 36, name: "–ö—Ä—ã–∂–æ–≤–Ω–∏–∫", price: 2200, unit: "–∫–≥", emoji: "ü´ê", isWeight: true, image: "" }
            ],
            
            // –ú—è—Å–æ
            meat_poultry: [
                { id: 37, name: "–ö—É—Ä–∏—Ü–∞ —Ñ–∏–ª–µ", price: 2800, unit: "–∫–≥", emoji: "üçó", isWeight: true, image: "" },
                { id: 38, name: "–ö—É—Ä–∏—Ü–∞ –Ω–æ–∂–∫–∏", price: 1200, unit: "–∫–≥", emoji: "üçó", isWeight: true, image: "" },
                { id: 39, name: "–ì–æ–≤—è–¥–∏–Ω–∞", price: 4800, unit: "–∫–≥", emoji: "ü•©", isWeight: true, image: "" },
                { id: 40, name: "–°–≤–∏–Ω–∏–Ω–∞", price: 3200, unit: "–∫–≥", emoji: "ü•©", isWeight: true, image: "" },
                { id: 41, name: "–ò–Ω–¥–µ–π–∫–∞ —Ñ–∏–ª–µ", price: 3500, unit: "–∫–≥", emoji: "ü¶É", isWeight: true, image: "" },
                { id: 42, name: "–ö—É—Ä–∏—Ü–∞ —Ü–µ–ª–∏–∫–æ–º", price: 2200, unit: "–∫–≥", emoji: "üçó", isWeight: true, image: "" },
                { id: 43, name: "–ì–æ–≤—è–∂–∏–π —Ñ–∞—Ä—à", price: 3800, unit: "–∫–≥", emoji: "ü•©", isWeight: true, image: "" },
                { id: 44, name: "–°–≤–∏–Ω–Ω–æ–π —Ñ–∞—Ä—à", price: 2800, unit: "–∫–≥", emoji: "ü•©", isWeight: true, image: "" }
            ],
            sausages: [
                { id: 45, name: "–°–æ—Å–∏—Å–∫–∏ –º–æ–ª–æ—á–Ω—ã–µ", price: 3200, unit: "–∫–≥", emoji: "üå≠", isWeight: true, image: "" },
                { id: 46, name: "–ö–æ–ª–±–∞—Å–∞ –¥–æ–∫—Ç–æ—Ä—Å–∫–∞—è", price: 4500, unit: "–∫–≥", emoji: "üå≠", isWeight: true, image: "" },
                { id: 47, name: "–°–µ—Ä–≤–µ–ª–∞—Ç", price: 5500, unit: "–∫–≥", emoji: "ü•ì", isWeight: true, image: "" },
                { id: 48, name: "–ö—É—Ä–Ω—ã–µ —Å–æ—Å–∏—Å–∫–∏", price: 2800, unit: "–∫–≥", emoji: "üå≠", isWeight: true, image: "" }
            ],
            
            // –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
            dairy_milk: [
                { id: 49, name: "–ú–æ–ª–æ–∫–æ 3.2%", price: 450, unit: "–ª", emoji: "ü•õ", isWeight: false, image: "" },
                { id: 50, name: "–ö–µ—Ñ–∏—Ä 2.5%", price: 420, unit: "–ª", emoji: "ü•õ", isWeight: false, image: "" },
                { id: 51, name: "–°–º–µ—Ç–∞–Ω–∞ 20%", price: 680, unit: "–∫–≥", emoji: "ü•õ", isWeight: true, image: "" },
                { id: 52, name: "–¢–≤–æ—Ä–æ–≥ 5%", price: 2800, unit: "–∫–≥", emoji: "üßà", isWeight: true, image: "" },
                { id: 53, name: "–°—ã—Ä —Ä–æ—Å—Å–∏–π—Å–∫–∏–π", price: 4800, unit: "–∫–≥", emoji: "üßÄ", isWeight: true, image: "" },
                { id: 54, name: "–ú–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ", price: 2200, unit: "–∫–≥", emoji: "üßà", isWeight: true, image: "" },
                { id: 55, name: "–†—è–∂–µ–Ω–∫–∞", price: 450, unit: "–ª", emoji: "ü•õ", isWeight: false, image: "" },
                { id: 56, name: "–ô–æ–≥—É—Ä—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π", price: 550, unit: "—à—Ç", emoji: "ü•õ", isWeight: false, image: "" }
            ],
            cheese_eggs: [
                { id: 57, name: "–Ø–π—Ü–∞ –∫—É—Ä–∏–Ω—ã–µ", price: 520, unit: "–¥–µ—Å—è—Ç–æ–∫", emoji: "ü•ö", isWeight: false, image: "" },
                { id: 58, name: "–°—ã—Ä –≥–æ–ª–ª–∞–Ω–¥—Å–∫–∏–π", price: 5200, unit: "–∫–≥", emoji: "üßÄ", isWeight: true, image: "" },
                { id: 59, name: "–°—ã—Ä –ø–∞—Ä–º–µ–∑–∞–Ω", price: 8500, unit: "–∫–≥", emoji: "üßÄ", isWeight: true, image: "" },
                { id: 60, name: "–°—ã—Ä –º–æ—Ü–∞—Ä–µ–ª–ª–∞", price: 6800, unit: "–∫–≥", emoji: "üßÄ", isWeight: true, image: "" },
                { id: 61, name: "–¢–≤–æ—Ä–æ–∂–Ω—ã–π —Å—ã—Ä", price: 3200, unit: "–∫–≥", emoji: "üßÄ", isWeight: true, image: "" }
            ],
            
            // –•–ª–µ–±–æ–±—É–ª–æ—á–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è
            bread_bakery: [
                { id: 62, name: "–•–ª–µ–± –±–µ–ª—ã–π", price: 250, unit: "—à—Ç", emoji: "üçû", isWeight: false, image: "" },
                { id: 63, name: "–•–ª–µ–± —á–µ—Ä–Ω—ã–π", price: 280, unit: "—à—Ç", emoji: "üçû", isWeight: false, image: "" },
                { id: 64, name: "–ë–∞—Ç–æ–Ω", price: 220, unit: "—à—Ç", emoji: "ü•ñ", isWeight: false, image: "" },
                { id: 65, name: "–õ–∞–≤–∞—à", price: 320, unit: "—à—Ç", emoji: "ü´ì", isWeight: false, image: "" },
                { id: 66, name: "–°—É—à–∫–∏", price: 850, unit: "–∫–≥", emoji: "üç™", isWeight: true, image: "" }
            ],
            
            // –ö—Ä—É–ø—ã –∏ –º–∞–∫–∞—Ä–æ–Ω—ã
            grains_pasta: [
                { id: 67, name: "–†–∏—Å", price: 650, unit: "–∫–≥", emoji: "üçö", isWeight: true, image: "" },
                { id: 68, name: "–ì—Ä–µ—á–∫–∞", price: 850, unit: "–∫–≥", emoji: "üçö", isWeight: true, image: "" },
                { id: 69, name: "–ú–∞–∫–∞—Ä–æ–Ω—ã", price: 550, unit: "–∫–≥", emoji: "üçù", isWeight: true, image: "" },
                { id: 70, name: "–û–≤—Å—è–Ω–∫–∞", price: 450, unit: "–∫–≥", emoji: "ü•£", isWeight: true, image: "" },
                { id: 71, name: "–ú–∞–Ω–∫–∞", price: 380, unit: "–∫–≥", emoji: "ü•£", isWeight: true, image: "" },
                { id: 72, name: "–ü—à–µ–Ω–æ", price: 320, unit: "–∫–≥", emoji: "ü•£", isWeight: true, image: "" }
            ],
            
            // –ù–∞–ø–∏—Ç–∫–∏
            beverages: [
                { id: 73, name: "–í–æ–¥–∞ –º–∏–Ω–µ—Ä–∞–ª—å–Ω–∞—è", price: 180, unit: "–ª", emoji: "üíß", isWeight: false, image: "" },
                { id: 74, name: "–°–æ–∫ –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π", price: 650, unit: "–ª", emoji: "üßÉ", isWeight: false, image: "" },
                { id: 75, name: "–°–æ–∫ —è–±–ª–æ—á–Ω—ã–π", price: 550, unit: "–ª", emoji: "üßÉ", isWeight: false, image: "" },
                { id: 76, name: "–ß–∞–π —á–µ—Ä–Ω—ã–π", price: 1200, unit: "–ø–∞—á–∫–∞", emoji: "üçµ", isWeight: false, image: "" },
                { id: 77, name: "–ö–æ—Ñ–µ —Ä–∞—Å—Ç–≤–æ—Ä–∏–º—ã–π", price: 1800, unit: "–±–∞–Ω–∫–∞", emoji: "‚òï", isWeight: false, image: "" }
            ],
            
            // –°–Ω–µ–∫–∏ –∏ —Å–ª–∞–¥–æ—Å—Ç–∏
            snacks_sweets: [
                { id: 78, name: "–ß–∏–ø—Å—ã", price: 850, unit: "–ø–∞—á–∫–∞", emoji: "üçü", isWeight: false, image: "" },
                { id: 79, name: "–®–æ–∫–æ–ª–∞–¥ –º–æ–ª–æ—á–Ω—ã–π", price: 650, unit: "–ø–ª–∏—Ç–∫–∞", emoji: "üç´", isWeight: false, image: "" },
                { id: 80, name: "–ö–æ–Ω—Ñ–µ—Ç—ã –∞—Å—Å–æ—Ä—Ç–∏", price: 2800, unit: "–∫–≥", emoji: "üç¨", isWeight: true, image: "" },
                { id: 81, name: "–ü–µ—á–µ–Ω—å–µ", price: 950, unit: "–ø–∞—á–∫–∞", emoji: "üç™", isWeight: false, image: "" }
            ]
        };

        const categories = {
            vegetables: {
                name: "–û–≤–æ—â–∏",
                emoji: "ü•¨",
                subcategories: {
                    fresh_vegetables: { name: "–°–≤–µ–∂–∏–µ –æ–≤–æ—â–∏", emoji: "ü•ï" },
                    greens_herbs: { name: "–ó–µ–ª–µ–Ω—å –∏ —Ç—Ä–∞–≤—ã", emoji: "üåø" }
                }
            },
            fruits: {
                name: "–§—Ä—É–∫—Ç—ã",
                emoji: "üçé",
                subcategories: {
                    fresh_fruits: { name: "–°–≤–µ–∂–∏–µ —Ñ—Ä—É–∫—Ç—ã", emoji: "üçä" },
                    berries: { name: "–Ø–≥–æ–¥—ã", emoji: "üçì" }
                }
            },
            meat: {
                name: "–ú—è—Å–æ",
                emoji: "ü•©",
                subcategories: {
                    meat_poultry: { name: "–ú—è—Å–æ –∏ –ø—Ç–∏—Ü–∞", emoji: "üçó" },
                    sausages: { name: "–ö–æ–ª–±–∞—Å—ã –∏ —Å–æ—Å–∏—Å–∫–∏", emoji: "üå≠" }
                }
            },
            dairy: {
                name: "–ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã",
                emoji: "ü•õ",
                subcategories: {
                    dairy_milk: { name: "–ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã", emoji: "ü•õ" },
                    cheese_eggs: { name: "–°—ã—Ä—ã –∏ —è–π—Ü–∞", emoji: "üßÄ" }
                }
            },
            bakery: {
                name: "–•–ª–µ–±–æ–±—É–ª–æ—á–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è",
                emoji: "üçû",
                subcategories: {
                    bread_bakery: { name: "–•–ª–µ–± –∏ –≤—ã–ø–µ—á–∫–∞", emoji: "ü•ñ" }
                }
            },
            grains: {
                name: "–ö—Ä—É–ø—ã –∏ –º–∞–∫–∞—Ä–æ–Ω—ã",
                emoji: "üçö",
                subcategories: {
                    grains_pasta: { name: "–ö—Ä—É–ø—ã –∏ –ø–∞—Å—Ç–∞", emoji: "üçù" }
                }
            },
            beverages: {
                name: "–ù–∞–ø–∏—Ç–∫–∏",
                emoji: "üßÉ",
                subcategories: {
                    beverages: { name: "–ù–∞–ø–∏—Ç–∫–∏", emoji: "üíß" }
                }
            },
            snacks: {
                name: "–°–Ω–µ–∫–∏ –∏ —Å–ª–∞–¥–æ—Å—Ç–∏",
                emoji: "üç™",
                subcategories: {
                    snacks_sweets: { name: "–°–Ω–µ–∫–∏ –∏ —Å–ª–∞–¥–æ—Å—Ç–∏", emoji: "üç´" }
                }
            }
        };

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let cart = [];
        let currentMainCategory = '';
        let currentSubcategory = '';
        const whatsappNumber = '+77001234567';

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            loadCart();
            renderCategories();
            updateCartCount();
        });

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ—Ä–∑–∏–Ω–æ–π
        function loadCart() {
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
            }
        }

        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = totalItems;
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        function renderCategories() {
            const categoriesGrid = document.getElementById('categoriesGrid');
            categoriesGrid.innerHTML = '';
            
            for (const [key, category] of Object.entries(categories)) {
                categoriesGrid.innerHTML += `
                    <div class="category-card" onclick="showSubcategories('${key}')" role="button" tabindex="0" aria-label="${category.name}">
                        <div class="category-icon" aria-hidden="true">${category.emoji}</div>
                        <div class="category-name">${category.name}</div>
                        <div class="category-desc">–¢–æ–≤–∞—Ä—ã —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
                    </div>
                `;
            }
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function showMainCategories() {
            document.getElementById('mainCategories').classList.remove('hidden');
            document.getElementById('subcategoriesSection').classList.add('hidden');
            document.getElementById('productsSection').classList.add('hidden');
        }

        function showSubcategories(mainCategory) {
            currentMainCategory = mainCategory;
            const subcategoriesGrid = document.getElementById('subcategoriesGrid');
            const category = categories[mainCategory];
            
            subcategoriesGrid.innerHTML = '';
            for (const [key, subcategory] of Object.entries(category.subcategories)) {
                subcategoriesGrid.innerHTML += `
                    <div class="category-card" onclick="showProducts('${key}')" role="button" tabindex="0" aria-label="${subcategory.name}">
                        <div class="category-icon" aria-hidden="true">${subcategory.emoji}</div>
                        <div class="category-name">${subcategory.name}</div>
                        <div class="category-desc">–¢–æ–≤–∞—Ä—ã —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
                    </div>
                `;
            }
            
            document.getElementById('mainCategories').classList.add('hidden');
            document.getElementById('subcategoriesSection').classList.remove('hidden');
            document.getElementById('productsSection').classList.add('hidden');
        }

        function showProducts(subcategory) {
            currentSubcategory = subcategory;
            const productsGrid = document.getElementById('productsGrid');
            const categoryProducts = products[subcategory] || [];
            
            productsGrid.innerHTML = categoryProducts.map(product => `
                <div class="product-card">
                    <div class="product-image">
                        ${product.image ? 
                            `<img src="${product.image}" alt="${product.name}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" loading="lazy"/>
                             <div class="product-emoji" style="display: none;">${product.emoji}</div>` :
                            `<div class="product-emoji">${product.emoji}</div>` 
                        }
                    </div>
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">${product.price} ‚Ç∏/${product.unit}</div>
                    ${product.isWeight ? `
                        <input type="number" class="weight-input" id="weight-${product.id}" 
                               placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–µ—Å –≤ ${product.unit}" step="0.1" min="0.1" value="1" aria-label="–í–µ—Å —Ç–æ–≤–∞—Ä–∞">
                        <div class="weight-unit">–í–≤–µ–¥–∏—Ç–µ –≤–µ—Å –≤ ${product.unit}</div>
                    ` : ''}
                    <button class="add-to-cart" onclick="addToCart(${product.id})" aria-label="–î–æ–±–∞–≤–∏—Ç—å ${product.name} –≤ –∫–æ—Ä–∑–∏–Ω—É">
                        –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                    </button>
                </div>
            `).join('');
            
            document.getElementById('subcategoriesSection').classList.add('hidden');
            document.getElementById('productsSection').classList.remove('hidden');
        }

        function searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm.length < 2) {
                showMainCategories();
                return;
            }
            
            // –ò—â–µ–º –≤–æ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–∞—Ö
            let allProducts = [];
            for (const subcategory in products) {
                allProducts = allProducts.concat(products[subcategory]);
            }
            
            const filteredProducts = allProducts.filter(product => 
                product.name.toLowerCase().includes(searchTerm)
            );
            
            const productsGrid = document.getElementById('productsGrid');
            if (filteredProducts.length === 0) {
                productsGrid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 2rem; color: white;">–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
            } else {
                productsGrid.innerHTML = filteredProducts.map(product => `
                    <div class="product-card">
                        <div class="product-image">
                            ${product.image ? 
                                `<img src="${product.image}" alt="${product.name}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" loading="lazy"/>
                                 <div class="product-emoji" style="display: none;">${product.emoji}</div>` :
                                `<div class="product-emoji">${product.emoji}</div>` 
                            }
                        </div>
                        <div class="product-name">${product.name}</div>
                        <div class="product-price">${product.price} ‚Ç∏/${product.unit}</div>
                        ${product.isWeight ? `
                            <input type="number" class="weight-input" id="weight-${product.id}" 
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–µ—Å –≤ ${product.unit}" step="0.1" min="0.1" value="1" aria-label="–í–µ—Å —Ç–æ–≤–∞—Ä–∞">
                            <div class="weight-unit">–í–≤–µ–¥–∏—Ç–µ –≤–µ—Å –≤ ${product.unit}</div>
                        ` : ''}
                        <button class="add-to-cart" onclick="addToCart(${product.id})" aria-label="–î–æ–±–∞–≤–∏—Ç—å ${product.name} –≤ –∫–æ—Ä–∑–∏–Ω—É">
                            –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                `).join('');
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏—é —Å —Ç–æ–≤–∞—Ä–∞–º–∏
            document.getElementById('mainCategories').classList.add('hidden');
            document.getElementById('subcategoriesSection').classList.add('hidden');
            document.getElementById('productsSection').classList.remove('hidden');
        }

        function addToCart(productId) {
            // –ù–∞—Ö–æ–¥–∏–º —Ç–æ–≤–∞—Ä –≤–æ –≤—Å–µ—Ö –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö
            let product = null;
            for (const subcategory in products) {
                product = products[subcategory].find(p => p.id === productId);
                if (product) break;
            }
            
            if (!product) {
                showNotification('–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
                return;
            }
            
            let weight = 1;
            if (product.isWeight) {
                const weightInput = document.getElementById(`weight-${product.id}`);
                weight = parseFloat(weightInput.value) || 1;
                if (weight <= 0) {
                    showNotification('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–µ—Å', 'error');
                    return;
                }
            }
            
            const totalPrice = Math.round(product.price * weight * 100) / 100;
            
            const existingItem = cart.find(item => 
                item.id === productId && item.weight === weight
            );
            
            if (existingItem) {
                existingItem.quantity += 1;
                showNotification('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–≤–µ–ª–∏—á–µ–Ω–æ', 'success');
            } else {
                cart.push({ 
                    ...product, 
                    quantity: 1,
                    weight: weight,
                    totalPrice: totalPrice
                });
                showNotification('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É', 'success');
            }
            
            updateCartCount();
            saveCart();
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ!';
            button.style.background = 'var(--success-color)';
            button.disabled = true;
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = '';
                button.disabled = false;
            }, 1000);
        }

        function openCart() {
            document.getElementById('cartModal').style.display = 'block';
            document.getElementById('cartModal').setAttribute('aria-hidden', 'false');
            renderCartItems();
        }

        function closeCart() {
            document.getElementById('cartModal').style.display = 'none';
            document.getElementById('cartModal').setAttribute('aria-hidden', 'true');
        }

        function renderCartItems() {
            const cartItemsContainer = document.getElementById('cartItems');
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<div class="empty-cart">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>';
                document.getElementById('cartTotal').textContent = '–ò—Ç–æ–≥–æ: 0 ‚Ç∏';
                return;
            }

            cartItemsContainer.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <div class="cart-item-info">
                        <div class="cart-item-name">${item.emoji} ${item.name}</div>
                        ${item.isWeight ? `
                            <div class="cart-item-weight">${item.weight} ${item.unit}</div>
                        ` : ''}
                        <div class="cart-item-price">${item.totalPrice} ‚Ç∏</div>
                    </div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="changeQuantity(${item.id}, ${item.weight}, -1)" aria-label="–£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ">-</button>
                        <span>${item.quantity}</span>
                        <button class="quantity-btn" onclick="changeQuantity(${item.id}, ${item.weight}, 1)" aria-label="–£–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ">+</button>
                    </div>
                    <button class="remove-item" onclick="removeFromCart(${item.id}, ${item.weight})" aria-label="–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä">–£–¥–∞–ª–∏—Ç—å</button>
                </div>
            `).join('');
            
            updateCartTotal();
        }

        function changeQuantity(productId, weight, change) {
            const item = cart.find(item => item.id === productId && item.weight === weight);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId, weight);
                } else {
                    renderCartItems();
                    saveCart();
                    updateCartCount();
                }
            }
        }

        function removeFromCart(productId, weight) {
            cart = cart.filter(item => !(item.id === productId && item.weight === weight));
            renderCartItems();
            saveCart();
            updateCartCount();
            showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã', 'warning');
        }

        function updateCartTotal() {
            const total = cart.reduce((sum, item) => sum + (item.totalPrice * item.quantity), 0);
            document.getElementById('cartTotal').textContent = `–ò—Ç–æ–≥–æ: ${total} ‚Ç∏`;
        }

        function validateForm() {
            const name = document.getElementById('customerName');
            const phone = document.getElementById('customerPhone');
            const address = document.getElementById('customerAddress');
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—à–∏–±–∫–∏
            document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
            document.querySelectorAll('.form-group input').forEach(el => el.classList.remove('error'));
            
            let isValid = true;
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏
            if (name.value.trim().length < 2) {
                name.classList.add('error');
                document.getElementById('nameError').textContent = '–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞';
                isValid = false;
            }
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            const phoneRegex = /^[\+]?[(]?[0-9]{1,4}[)]?[-\s\.]?[(]?[0-9]{1,4}[)]?[-\s\.]?[0-9]{1,9}$/;
            if (!phoneRegex.test(phone.value.replace(/\s/g, ''))) {
                phone.classList.add('error');
                document.getElementById('phoneError').textContent = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞';
                isValid = false;
            }
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–¥—Ä–µ—Å–∞
            if (address.value.trim().length < 5) {
                address.classList.add('error');
                document.getElementById('addressError').textContent = '–ê–¥—Ä–µ—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 5 —Å–∏–º–≤–æ–ª–æ–≤';
                isValid = false;
            }
            
            return isValid;
        }

        function sendToWhatsApp(event) {
            event.preventDefault();
            
            if (!validateForm()) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º–µ', 'error');
                return;
            }
            
            if (cart.length === 0) {
                showNotification('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞', 'warning');
                return;
            }
            
            const name = document.getElementById('customerName').value;
            const phone = document.getElementById('customerPhone').value;
            const address = document.getElementById('customerAddress').value;
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            let message = `üõí *–ù–æ–≤—ã–π –∑–∞–∫–∞–∑*\n\n`;
            message += `üë§ *–ò–º—è:* ${name}\n`;
            message += `üìû *–¢–µ–ª–µ—Ñ–æ–Ω:* ${phone}\n`;
            message += `üìç *–ê–¥—Ä–µ—Å:* ${address}\n\n`;
            message += `üì¶ *–ó–∞–∫–∞–∑:*\n`;
            
            cart.forEach((item, index) => {
                message += `${index + 1}. ${item.emoji} ${item.name}`;
                if (item.isWeight) {
                    message += ` - ${item.weight} ${item.unit}`;
                }
                message += ` √ó ${item.quantity} —à—Ç. = ${item.totalPrice * item.quantity} ‚Ç∏\n`;
            });
            
            const total = cart.reduce((sum, item) => sum + (item.totalPrice * item.quantity), 0);
            message += `\nüí∞ *–ò—Ç–æ–≥–æ:* ${total} ‚Ç∏`;
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º WhatsApp
            const whatsappUrl = `https://wa.me/${whatsappNumber.replace(/[^0-9]/g, '')}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification('–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ WhatsApp!', 'success');
            
            // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –∏ —Ñ–æ—Ä–º—É
            setTimeout(() => {
                cart = [];
                saveCart();
                updateCartCount();
                closeCart();
                document.getElementById('orderForm').reset();
            }, 1000);
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
        document.getElementById('cartModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCart();
            }
        });

        // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeCart();
            }
        });
    </script>
</body>
</html>
